(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/alaram.4b9995ee.mp3"},19:function(e,t,n){e.exports=n(48)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(2),s=n(4),u=n(1),l={sessionLength:25,breakLength:5,clockTime:1500,secondsElapsed:1500,isTimerRunning:!1,isTimerPaused:!1,isBreakTime:!1,isAlarmON:!0,isAutoStartON:!0};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TIMER":return Object(u.a)({},e,{isTimerRunning:!0,isTimerPaused:!1});case"STOP_TIMER":return Object(u.a)({},e,{isTimerRunning:!1,isTimerPaused:!0});case"RESET_TIMER":return Object(u.a)({},e,{isTimerRunning:!1,isTimerPaused:!1,isBreakTime:!1,secondsElapsed:e.clockTime});case"RUN_TIMER":return Object(u.a)({},e,{secondsElapsed:e.secondsElapsed-1});case"START_BREAK":return Object(u.a)({},e,{secondsElapsed:60*e.breakLength,isBreakTime:!0});case"AUTO_START_TIMER":return Object(u.a)({},e,{isTimerRunning:!0,isBreakTime:!1,isTimerPaused:!1,secondsElapsed:e.clockTime});case"UPDATE_SESSION_LENGTH":return Object(u.a)({},e,{sessionLength:""!==t.value?parseInt(t.value,10):"",clockTime:""!==t.value?60*parseInt(t.value,10):1500});case"UPDATE_BREAK_LENGTH":return Object(u.a)({},e,{breakLength:""!==t.value?parseInt(t.value,10):""});case"TOGGLE_ALARM_SOUND":return Object(u.a)({},e,{isAlarmON:!e.isAlarmON});case"TOGGLE_AUTO_START":return Object(u.a)({},e,{isAutoStartON:!e.isAutoStartON});default:return Object(u.a)({},e)}},d={quoteText:"To hell with circumstances; I create opportunities",quoteAuthor:"Bruce Lee"};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_QUOTE":return Object(u.a)({},e,{quoteText:t.quote.text,quoteAuthor:t.quote.author});default:return Object(u.a)({},e)}},T={text:"",filter:"SHOW_ALL",tasks:[],nextTodoId:0,showNotification:!1,notifications:[],notificationId:0};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SYNC_TODO_DB":return Object(u.a)({},e,{tasks:t.todos,nextTodoId:t.id});case"ADD_TODO":return Object(u.a)({},e,{text:"",tasks:e.tasks.concat({id:e.nextTodoId,text:t.todo,completed:!1}),nextTodoId:e.nextTodoId+1});case"UPDATE_INPUT":return Object(u.a)({},e,{text:t.text});case"TOGGLE_TODO":return Object(u.a)({},e,{tasks:e.tasks.map(function(e){return e.id===t.id?Object(u.a)({},e,{completed:!e.completed}):Object(u.a)({},e)})});case"DELETE_TODO":return Object(u.a)({},e,{tasks:e.tasks.filter(function(e){return e.id!==t.id})});case"SET_TODO_FILTER":return Object(u.a)({},e,{filter:t.filter});case"SET_NOTIFICATIONS":return Object(u.a)({},e,{notifications:e.notifications.concat({id:e.notificationId,text:t.text}),notificationId:e.notificationId+1});case"SET_SHOW_NOTIFICATIONS":return Object(u.a)({},e,{showNotification:!0});case"REMOVE_NOTIFICATION":return Object(u.a)({},e,{notifications:e.notifications.filter(function(e){return e.id!==t.id})});default:return Object(u.a)({},e)}},p=Object(s.b)({timer:m,quote:f,todo:E});n(29),n(31);var h=function(){return a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,"Pomodoro Timer"))},O=(n(33),Math.round(1e4*Math.random())),b="cb_".concat(O),v="https://api.forismatic.com/api/1.0/?method=getQuote&key=457653&format=jsonp&lang=en&jsonp=";function g(e,t){var n=document.createElement("script");n.id="script_".concat(b),n.src=e+t,document.body.appendChild(n),document.getElementById(n.id).remove()}g(v,b);var k=function(e){var t=e.isBreakTime,n=e.quoteText,r=e.quoteAuthor,o=e.secondsElapsed,i=e.updateQuote;return window[b]=function(e){i({text:e.quoteText,author:e.quoteAuthor})},0===o&&t&&g(v,b),a.a.createElement("div",{className:"quote-container",style:t?{color:"#3066be"}:{}},t?a.a.createElement("h2",null,"It's ok to take a break"):a.a.createElement("div",null,a.a.createElement("p",{className:"left quotation-mark"},"\u201c"),a.a.createElement("p",{className:"quote-text"},n),a.a.createElement("p",{className:"right quotation-mark"},"\u201d"),a.a.createElement("p",{className:"quote-author"},r)))},N=function(e){return{type:"SET_NOTIFICATIONS",text:e}},S=Object(c.b)(function(e){return{quoteText:e.quote.quoteText,quoteAuthor:e.quote.quoteAuthor,isBreakTime:e.timer.isBreakTime,secondsElapsed:e.timer.secondsElapsed}},function(e){return{updateQuote:function(t){return e(function(e){return{type:"UPDATE_QUOTE",quote:e}}(t))}}})(k),A=n(5),_=n(6),I=n(8),y=n(7),R=n(9);var j=function(e){var t=e.time,n=Math.floor(t/60),r=Math.floor(t%60),o="".concat(n<10?"0".concat(n):n," : ").concat(r<10?"0".concat(r):r);return document.title=o,a.a.createElement("p",null,o)};var L=function(e){var t,n=e.clockTime,r=e.secondsElapsed,o=e.isTimerRunning,i=e.isTimerPaused,c=e.isBreakTime;return o||i?(o&&!i||!o&&i)&&(t=r):t=n,a.a.createElement("div",{className:"clock".concat(" ",c?"break":"session")},a.a.createElement(j,{time:t}))};n(35);var w=function(e){return a.a.createElement("input",Object.assign({type:"button"},e))};var D=function(e){var t=e.isTimerRunning,n=e.onStart,r=e.onStop,o=e.onReset;return a.a.createElement("div",{className:"btn-controls"},t?a.a.createElement(w,{name:"stop",value:"Pause",className:"btn btn-stop",onClick:r}):a.a.createElement(w,{name:"start",value:"Start",className:"btn btn-start",onClick:n}),a.a.createElement(w,{name:"reset",value:"Reset",className:"btn btn-reset",onClick:o}))};n(37);var x=function(e){var t=e.sessionLength,n=e.breakLength,r=e.isAlarmON,o=e.isAutoStartON,i=e.updateSessionLength,c=e.updateBreakLength,s=e.toggleAlarmSound,u=e.toggleAutoStart;return a.a.createElement("div",{className:"settings"},a.a.createElement("h2",null,"settings"),a.a.createElement("div",{className:"timer-settings"},a.a.createElement("label",{htmlFor:"session"},a.a.createElement("input",{type:"number",id:"session",min:"1",max:"60",value:t,name:"sessionLength",onChange:function(e){return i(e.target.value)}}),"Session Length"),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"break"},a.a.createElement("input",{type:"number",id:"break",min:"1",max:"20",value:n,name:"breakLength",onChange:function(e){return c(e.target.value)}}),"Break Length")),a.a.createElement("div",{className:"other-settings"},a.a.createElement("label",{htmlFor:"sounds",className:"sound-setting"},a.a.createElement("input",{type:"checkbox",id:"sounds",name:"timer-sounds",checked:r,onChange:s}),a.a.createElement("span",null),"Alarm Sound"),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"auto-start",className:"auto-start"},a.a.createElement("input",{type:"checkbox",id:"auto-start",name:"timer-sounds",checked:o,onChange:u}),a.a.createElement("span",null),"Auto start session")))},C=Object(c.b)(function(e){return{sessionLength:e.timer.sessionLength,breakLength:e.timer.breakLength,isAlarmON:e.timer.isAlarmON,isAutoStartON:e.timer.isAutoStartON}},function(e){return{updateSessionLength:function(t){e(function(e){return{type:"UPDATE_SESSION_LENGTH",value:e}}(t))},updateBreakLength:function(t){e(function(e){return{type:"UPDATE_BREAK_LENGTH",value:e}}(t))},toggleAlarmSound:function(){return e({type:"TOGGLE_ALARM_SOUND"})},toggleAutoStart:function(){return e({type:"TOGGLE_AUTO_START"})}}})(x),B=(n(39),n(17)),P=n.n(B),U=function(e){function t(e){var n;return Object(A.a)(this,t),(n=Object(I.a)(this,Object(y.a)(t).call(this,e))).alaramRef=a.a.createRef(),n}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.isTimerRunning&&!e.isTimerRunning&&(this.timerID=setInterval(function(){t.runTimer()},1e3)),!t.isTimerRunning&&e.isTimerRunning&&clearInterval(this.timerID),0!==t.secondsElapsed||t.isBreakTime||t.startBreak(),0===t.secondsElapsed&&t.isBreakTime&&(this.alaramRef.current.play(),t.isAutoStartON?t.autoStartTimer():(clearInterval(this.timerID),t.resetTimer())),t.isTimerRunning||t.isTimerPaused||t.resetTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.props,t=e.clockTime,n=e.secondsElapsed,r=e.isTimerRunning,o=e.isTimerPaused,i=e.isBreakTime,c=this.props,s=c.startTimer,u=c.stopTimer,l=c.resetTimer;return a.a.createElement("div",{className:"timer-container"},a.a.createElement("div",{className:"timer"},a.a.createElement(L,{clockTime:t,secondsElapsed:n,isTimerRunning:r,isTimerPaused:o,isBreakTime:i}),a.a.createElement(D,{isTimerRunning:r,onStart:s,onStop:u,onReset:l})),a.a.createElement(C,null),a.a.createElement("audio",{src:P.a,ref:this.alaramRef}))}}]),t}(a.a.Component),q=Object(c.b)(function(e){return{clockTime:e.timer.clockTime,secondsElapsed:e.timer.secondsElapsed,isTimerRunning:e.timer.isTimerRunning,isTimerPaused:e.timer.isTimerPaused,isBreakTime:e.timer.isBreakTime,isAutoStartON:e.timer.isAutoStartON}},function(e){return{startTimer:function(){return e({type:"START_TIMER"})},stopTimer:function(){return e({type:"STOP_TIMER"})},resetTimer:function(){return e({type:"RESET_TIMER"})},runTimer:function(){return e({type:"RUN_TIMER"})},startBreak:function(){return e({type:"START_BREAK"})},autoStartTimer:function(){return e({type:"AUTO_START_TIMER"})}}})(U),M=n(18),W=n.n(M);var F=function(){return"indexedDB"in window&&W.a.open("todoDB",1,function(e){e.objectStoreNames.contains("todoStore")||e.createObjectStore("todoStore",{keyPath:"id"}).createIndex("id","id",{unique:!0})})},G=F();var H=Object(c.b)(function(e){return{id:e.todo.nextTodoId,text:e.todo.text}},function(e){return{inputChange:function(t){return e(function(e){return{type:"UPDATE_INPUT",text:e}}(t))},submitForm:function(t){return e(function(e){return{type:"ADD_TODO",todo:e}}(t))},addNotification:function(t,n){return e(N(t))}}})(function(e){var t=e.id,n=e.text,r=e.inputChange,o=e.submitForm,i=e.addNotification;return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.trim()&&(o(n),G.then(function(e){var r=e.transaction("todoStore","readwrite");return r.objectStore("todoStore").add({id:t,text:n,completed:!1}),r.complete}).then(function(){i("Added to your list")}))},className:"todo-form"},a.a.createElement("input",{type:"text",value:n,name:"todo",id:"add-todo",placeholder:"New task ...",className:"todo-input","aria-label":"add new task",onChange:function(e){return r(e.target.value)}}),a.a.createElement("input",{type:"submit",name:"add-todo",value:"Add",className:"btn-add-todo"}))});var V=function(e){var t=e.filter,n=e.setFilter,r={background:"#005555",color:"#ffffff"};return a.a.createElement("p",{className:"todo-filter"},a.a.createElement("input",{type:"button",value:"All",onClick:function(){return n("SHOW_ALL")},style:"SHOW_ALL"===t?r:null}),a.a.createElement("input",{type:"button",value:"Active",onClick:function(){return n("SHOW_ACTIVE")},style:"SHOW_ACTIVE"===t?r:null}),a.a.createElement("input",{type:"button",value:"Completed",onClick:function(){return n("SHOW_COMPLETED")},style:"SHOW_COMPLETED"===t?r:null}))},Q=Object(c.b)(function(e){return{filter:e.todo.filter}},function(e){return{setFilter:function(t){return e(function(e){return{type:"SET_TODO_FILTER",filter:e}}(t))}}})(V),X=F();var K=function(e){var t=e.id,n=e.completed,r=e.text,o=e.toggleTodo,i=e.deleteTodo,c=e.setNotifications;return a.a.createElement("li",{className:"".concat(n?"completed-task":null)},a.a.createElement("label",{htmlFor:t},a.a.createElement("input",{type:"checkbox",id:t,checked:n,onChange:function(){return function(e,t,n,r,a){r(e),X.then(function(r){var a=r.transaction("todoStore","readwrite");return a.objectStore("todoStore").put({id:e,text:t,completed:!n}),a.complete}).then(function(){a(n?"Marked as Complete":"Marked as Active")})}(t,r,n,o,c)}}),a.a.createElement("span",null)),r,a.a.createElement("button",{type:"button",className:"remove-btn",onClick:function(){return function(e,t,n){t(e),X.then(function(t){var n=t.transaction("todoStore","readwrite");return n.objectStore("todoStore").delete(e),n.complete}).then(function(){n("Task deleted successfully")})}(t,i,c)}},"X"))};var J=function(e){var t=e.tasks,n=e.toggleTodo,r=e.deleteTodo,o=e.setNotifications;return a.a.createElement("ul",{className:"todo-items"},t.length?t.map(function(e){return a.a.createElement(K,{key:e.id,id:e.id,completed:e.completed,text:e.text,toggleTodo:n,deleteTodo:r,setNotifications:o})}):a.a.createElement("li",{className:"no-tasks"},"No tasks found"))};var Y,$=Object(c.b)(function(e){return{tasks:function(e,t){switch(t){case"SHOW_ALL":return e;case"SHOW_ACTIVE":return e.filter(function(e){return!e.completed});case"SHOW_COMPLETED":return e.filter(function(e){return e.completed});default:return e}}(e.todo.tasks,e.todo.filter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))},deleteTodo:function(t){return e(function(e){return{type:"DELETE_TODO",id:e}}(t))},setNotifications:function(t){return e(N(t))}}})(J);n(41);var z=function(e){var t=e.removeNotification,n=e.notifications;return n.length||clearTimeout(Y),a.a.createElement("div",{className:"notifications"},n.map(function(e){return Y=setTimeout(function(){t(e.id)},4e3),a.a.createElement("p",{key:e.id,className:"show-msg"},e.text)}))},Z=Object(c.b)(function(e){return{removeNotification:e.todo.removeNotification,notifications:e.todo.notifications}},function(e){return{removeNotification:function(t){return e(function(e){return{type:"REMOVE_NOTIFICATION",id:e}}(t))}}})(z),ee=(n(43),function(e){function t(){return Object(A.a)(this,t),Object(I.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.syncStoreWithIDB,n=e.setNotifications;this.dbPromise=F(),this.dbPromise.then(function(e){return e.transaction("todoStore","readonly").objectStore("todoStore").getAll()}).then(function(e){var n=e.length?e[e.length-1].id+1:0;return t(n,e),e.length}).then(function(e){n(e?"Tasks loaded from IndexedDB":"No Tasks availabe in DB")})}},{key:"render",value:function(){return a.a.createElement("div",{className:"todo-container"},a.a.createElement(Z,null),a.a.createElement("h1",{className:"todo-title"},"To-Do"),a.a.createElement(H,null),a.a.createElement(Q,null),a.a.createElement($,null))}}]),t}(a.a.Component)),te=Object(c.b)(function(e){return{notifications:e.todo.notifications}},function(e){return{syncStoreWithIDB:function(t,n){return e(function(e,t){return{type:"SYNC_TODO_DB",id:e,todos:t}}(t,n))},setNotifications:function(t,n){return e(N(t))}}})(ee);n(45);var ne=function(){return a.a.createElement("div",{className:"container"},a.a.createElement(h,null),a.a.createElement(S,null),a.a.createElement(q,null),a.a.createElement(te,null))},re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var oe=Object(s.c)(p,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(a.a.createElement(c.a,{store:oe},a.a.createElement(ne,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pomodoro-timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/pomodoro-timer","/service-worker.js");re?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ae(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ae(t,e)})}}()}},[[19,2,1]]]);
//# sourceMappingURL=main.824097f0.chunk.js.map