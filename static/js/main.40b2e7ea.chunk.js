(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/alarm.4b9995ee.mp3"},19:function(e,t,n){e.exports=n(48)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(14),i=n.n(r),c=n(2),u=n(4),s=n(1),l={sessionLength:25,breakLength:5,clockTime:1500,secondsElapsed:0,isTimerRunning:!1,isTimerPaused:!1,isBreakTime:!1,isAlarmON:!0,isAutoStartON:!0};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TIMER":return Object(s.a)({},e,{isTimerRunning:!0,isTimerPaused:!1});case"STOP_TIMER":return Object(s.a)({},e,{isTimerRunning:!1,isTimerPaused:!0});case"RESET_TIMER":return Object(s.a)({},e,{isTimerRunning:!1,isTimerPaused:!1,isBreakTime:!1,clockTime:""!==e.sessionLength?60*e.sessionLength:1500,secondsElapsed:0});case"RUN_TIMER":return Object(s.a)({},e,{secondsElapsed:e.secondsElapsed+1});case"START_BREAK":return Object(s.a)({},e,{secondsElapsed:0,clockTime:60*e.breakLength,isBreakTime:!0});case"AUTO_START_TIMER":return Object(s.a)({},e,{isTimerRunning:!0});case"UPDATE_SESSION_LENGTH":return Object(s.a)({},e,{sessionLength:""!==t.value?parseInt(t.value,10):"",clockTime:e.isTimerRunning||e.isTimerPaused||""===t.value?e.clockTime:60*parseInt(t.value,10)});case"UPDATE_BREAK_LENGTH":return Object(s.a)({},e,{breakLength:""!==t.value?parseInt(t.value,10):""});case"TOGGLE_ALARM_SOUND":return Object(s.a)({},e,{isAlarmON:!e.isAlarmON});case"TOGGLE_AUTO_START":return Object(s.a)({},e,{isAutoStartON:!e.isAutoStartON});default:return Object(s.a)({},e)}},d={quoteText:"To hell with circumstances; I create opportunities",quoteAuthor:"Bruce Lee"};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_QUOTE":return Object(s.a)({},e,{quoteText:t.quote.text,quoteAuthor:t.quote.author});default:return Object(s.a)({},e)}},p={text:"",filter:"SHOW_ALL",tasks:[],nextTodoId:0,showNotification:!1,notifications:[],notificationId:0};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SYNC_TODO_DB":return Object(s.a)({},e,{tasks:t.todos,nextTodoId:t.id});case"ADD_TODO":return Object(s.a)({},e,{text:"",tasks:e.tasks.concat({id:e.nextTodoId,text:t.todo,completed:!1}),nextTodoId:e.nextTodoId+1});case"UPDATE_INPUT":return Object(s.a)({},e,{text:t.text});case"TOGGLE_TODO":return Object(s.a)({},e,{tasks:e.tasks.map(function(e){return e.id===t.id?Object(s.a)({},e,{completed:!e.completed}):Object(s.a)({},e)})});case"DELETE_TODO":return Object(s.a)({},e,{tasks:e.tasks.filter(function(e){return e.id!==t.id})});case"SET_TODO_FILTER":return Object(s.a)({},e,{filter:t.filter});case"SET_NOTIFICATIONS":return Object(s.a)({},e,{notifications:e.notifications.concat({id:e.notificationId,text:t.text}),notificationId:e.notificationId+1});case"SET_SHOW_NOTIFICATIONS":return Object(s.a)({},e,{showNotification:!0});case"REMOVE_NOTIFICATION":return Object(s.a)({},e,{notifications:e.notifications.filter(function(e){return e.id!==t.id})});default:return Object(s.a)({},e)}},E=Object(u.b)({timer:m,quote:f,todo:T});n(29),n(31);var h=function(){return o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"Pomodoro Timer"))},O=(n(33),Math.round(1e4*Math.random())),v="cb_".concat(O),b="https://api.forismatic.com/api/1.0/?method=getQuote&key=457653&format=jsonp&lang=en&jsonp=";function g(e,t){var n=document.createElement("script");n.id="script_".concat(v),n.src=e+t,document.body.appendChild(n),document.getElementById(n.id).remove()}g(b,v);var k=function(e){var t=e.isBreakTime,n=e.quoteText,a=e.quoteAuthor,r=e.secondsElapsed,i=e.updateQuote;return window[v]=function(e){i({text:e.quoteText,author:e.quoteAuthor})},0===r&&t&&g(b,v),o.a.createElement("div",{className:"quote-container",style:t?{color:"#3066be"}:{}},t?o.a.createElement("h2",null,"It's ok to take a break"):o.a.createElement("div",null,o.a.createElement("p",{className:"left quotation-mark"},"\u201c"),o.a.createElement("p",{className:"quote-text"},n),o.a.createElement("p",{className:"right quotation-mark"},"\u201d"),o.a.createElement("p",{className:"quote-author"},a)))},N=function(e){return{type:"SET_NOTIFICATIONS",text:e}},S=Object(c.b)(function(e){return{quoteText:e.quote.quoteText,quoteAuthor:e.quote.quoteAuthor,isBreakTime:e.timer.isBreakTime,secondsElapsed:e.timer.secondsElapsed}},function(e){return{updateQuote:function(t){return e(function(e){return{type:"UPDATE_QUOTE",quote:e}}(t))}}})(k),A=n(5),_=n(6),y=n(8),I=n(7),R=n(9);var j=function(e){var t=e.time,n=Math.floor(t/60),a=Math.floor(t%60),r="".concat(n<10?"0".concat(n):n," : ").concat(a<10?"0".concat(a):a);return document.title=r,o.a.createElement("p",null,r)};var w=function(e){var t=e.clockTime,n=e.secondsElapsed,a=e.isBreakTime,r=t-n;return o.a.createElement("div",{className:"clock".concat(" ",a?"break":"session")},o.a.createElement(j,{time:r}))};n(35);var L=function(e){return o.a.createElement("input",Object.assign({type:"button"},e))};var D=function(e){var t=e.isTimerRunning,n=e.onStart,a=e.onStop,r=e.onReset;return o.a.createElement("div",{className:"btn-controls"},t?o.a.createElement(L,{name:"stop",value:"Pause",className:"btn btn-stop",onClick:a}):o.a.createElement(L,{name:"start",value:"Start",className:"btn btn-start",onClick:n}),o.a.createElement(L,{name:"reset",value:"Reset",className:"btn btn-reset",onClick:r}))};n(37);function x(e,t){(e>0&&e<=60||""===e)&&t(e)}function C(e,t){(e>0&&e<=15||""===e)&&t(e)}var B=function(e){var t=e.sessionLength,n=e.breakLength,a=e.isAlarmON,r=e.isAutoStartON,i=e.updateSessionLength,c=e.updateBreakLength,u=e.toggleAlarmSound,s=e.toggleAutoStart;return o.a.createElement("div",{className:"settings"},o.a.createElement("h2",null,"settings"),o.a.createElement("div",{className:"input-control"},o.a.createElement("label",{htmlFor:"session"},"Session Length",o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"button",name:"step-up-session",value:"+",onClick:function(){return x(t+1,i)}}),o.a.createElement("input",{type:"number",id:"session",min:"1",max:"60",value:t,name:"session-length",onChange:function(e){return x(e.target.value,i)}}),o.a.createElement("input",{type:"button",name:"step-down-session",value:"-",onClick:function(){return x(t-1,i)}})))),o.a.createElement("div",{className:"input-control"},o.a.createElement("label",{htmlFor:"break"},"Break Length",o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"button",name:"step-up-break",value:"+",onClick:function(){return C(n+1,c)}}),o.a.createElement("input",{type:"number",id:"break",min:"1",max:"20",value:n,name:"break-length",onChange:function(e){return C(e.target.value,c)}}),o.a.createElement("input",{type:"button",name:"step-down-break",value:"-",onClick:function(){return C(n-1,c)}})))),o.a.createElement("div",{className:"input-control alaram-sound"},o.a.createElement("label",{htmlFor:"sounds"},o.a.createElement("input",{type:"checkbox",id:"sounds",name:"alaramsounds",checked:a,onChange:u}),o.a.createElement("span",{className:"custom-checkbox"}),"Alarm Sound")),o.a.createElement("div",{className:"input-control auto-start"},o.a.createElement("label",{htmlFor:"auto-start"},o.a.createElement("input",{type:"checkbox",id:"auto-start",name:"autostart",checked:r,onChange:s}),o.a.createElement("span",{className:"custom-checkbox"}),"Auto start session")))},P=Object(c.b)(function(e){return{sessionLength:e.timer.sessionLength,breakLength:e.timer.breakLength,isAlarmON:e.timer.isAlarmON,isAutoStartON:e.timer.isAutoStartON}},function(e){return{updateSessionLength:function(t){e(function(e){return{type:"UPDATE_SESSION_LENGTH",value:e}}(t))},updateBreakLength:function(t){e(function(e){return{type:"UPDATE_BREAK_LENGTH",value:e}}(t))},toggleAlarmSound:function(){return e({type:"TOGGLE_ALARM_SOUND"})},toggleAutoStart:function(){return e({type:"TOGGLE_AUTO_START"})}}})(B),U=(n(39),n(17)),q=n.n(U),M=function(e){function t(e){var n;return Object(A.a)(this,t),(n=Object(y.a)(this,Object(I.a)(t).call(this,e))).alarmRef=o.a.createRef(),n}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.secondsElapsed,a=t.clockTime,o=t.isBreakTime,r=t.isAutoStartON,i=t.resetTimer,c=t.autoStartTimer;t.isTimerRunning&&!e.isTimerRunning&&(this.timerID=setInterval(function(){t.runTimer()},1e3)),!t.isTimerRunning&&e.isTimerRunning&&clearInterval(this.timerID),n!==a||o||(this.alarmRef.current.play(),t.startBreak()),n===a&&o&&(this.alarmRef.current.play(),i(),r?c():clearInterval(this.timerID))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.props,t=e.clockTime,n=e.secondsElapsed,a=e.isTimerRunning,r=e.isTimerPaused,i=e.isBreakTime,c=this.props,u=c.startTimer,s=c.stopTimer,l=c.resetTimer;return o.a.createElement("div",{className:"timer-container"},o.a.createElement("div",{className:"timer"},o.a.createElement(w,{clockTime:t,secondsElapsed:n,isTimerRunning:a,isTimerPaused:r,isBreakTime:i}),o.a.createElement(D,{isTimerRunning:a,onStart:u,onStop:s,onReset:l})),o.a.createElement(P,null),o.a.createElement("audio",{src:q.a,ref:this.alarmRef}))}}]),t}(o.a.Component),W=Object(c.b)(function(e){return{clockTime:e.timer.clockTime,secondsElapsed:e.timer.secondsElapsed,isTimerRunning:e.timer.isTimerRunning,isTimerPaused:e.timer.isTimerPaused,isBreakTime:e.timer.isBreakTime,isAutoStartON:e.timer.isAutoStartON}},function(e){return{startTimer:function(){return e({type:"START_TIMER"})},stopTimer:function(){return e({type:"STOP_TIMER"})},resetTimer:function(){return e({type:"RESET_TIMER"})},runTimer:function(){return e({type:"RUN_TIMER"})},startBreak:function(){return e({type:"START_BREAK"})},autoStartTimer:function(){return e({type:"AUTO_START_TIMER"})}}})(M),F=n(18),G=n.n(F);var H=function(){return"indexedDB"in window&&G.a.open("todoDB",1,function(e){e.objectStoreNames.contains("todoStore")||e.createObjectStore("todoStore",{keyPath:"id"}).createIndex("id","id",{unique:!0})})},V=H();var Q=Object(c.b)(function(e){return{id:e.todo.nextTodoId,text:e.todo.text}},function(e){return{inputChange:function(t){return e(function(e){return{type:"UPDATE_INPUT",text:e}}(t))},submitForm:function(t){return e(function(e){return{type:"ADD_TODO",todo:e}}(t))},addNotification:function(t,n){return e(N(t))}}})(function(e){var t=e.id,n=e.text,a=e.inputChange,r=e.submitForm,i=e.addNotification;return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.trim()&&(r(n),V.then(function(e){var a=e.transaction("todoStore","readwrite");return a.objectStore("todoStore").add({id:t,text:n,completed:!1}),a.complete}).then(function(){i("Added to your list")}))},className:"todo-form"},o.a.createElement("input",{type:"text",value:n,name:"todo",id:"add-todo",placeholder:"New task ...",className:"todo-input","aria-label":"add new task",onChange:function(e){return a(e.target.value)}}),o.a.createElement("input",{type:"submit",name:"add-todo",value:"Add",className:"btn-add-todo"}))});var X=function(e){var t=e.filter,n=e.setFilter,a={background:"#005555",color:"#ffffff"};return o.a.createElement("p",{className:"todo-filter"},o.a.createElement("input",{type:"button",value:"All",onClick:function(){return n("SHOW_ALL")},style:"SHOW_ALL"===t?a:null}),o.a.createElement("input",{type:"button",value:"Active",onClick:function(){return n("SHOW_ACTIVE")},style:"SHOW_ACTIVE"===t?a:null}),o.a.createElement("input",{type:"button",value:"Completed",onClick:function(){return n("SHOW_COMPLETED")},style:"SHOW_COMPLETED"===t?a:null}))},K=Object(c.b)(function(e){return{filter:e.todo.filter}},function(e){return{setFilter:function(t){return e(function(e){return{type:"SET_TODO_FILTER",filter:e}}(t))}}})(X),J=H();var Y=function(e){var t=e.id,n=e.completed,a=e.text,r=e.toggleTodo,i=e.deleteTodo,c=e.setNotifications;return o.a.createElement("li",{className:"".concat(n?"completed-task":null)},o.a.createElement("label",{htmlFor:t},o.a.createElement("input",{type:"checkbox",id:t,checked:n,onChange:function(){return function(e,t,n,a,o){a(e),J.then(function(a){var o=a.transaction("todoStore","readwrite");return o.objectStore("todoStore").put({id:e,text:t,completed:!n}),o.complete}).then(function(){o(n?"Marked as Complete":"Marked as Active")})}(t,a,n,r,c)}}),o.a.createElement("span",null)),a,o.a.createElement("button",{type:"button",className:"remove-btn",onClick:function(){return function(e,t,n){t(e),J.then(function(t){var n=t.transaction("todoStore","readwrite");return n.objectStore("todoStore").delete(e),n.complete}).then(function(){n("Task deleted successfully")})}(t,i,c)}},"X"))};var $=function(e){var t=e.tasks,n=e.toggleTodo,a=e.deleteTodo,r=e.setNotifications;return o.a.createElement("ul",{className:"todo-items"},t.length?t.map(function(e){return o.a.createElement(Y,{key:e.id,id:e.id,completed:e.completed,text:e.text,toggleTodo:n,deleteTodo:a,setNotifications:r})}):o.a.createElement("li",{className:"no-tasks"},"No tasks found"))};var z,Z=Object(c.b)(function(e){return{tasks:function(e,t){switch(t){case"SHOW_ALL":return e;case"SHOW_ACTIVE":return e.filter(function(e){return!e.completed});case"SHOW_COMPLETED":return e.filter(function(e){return e.completed});default:return e}}(e.todo.tasks,e.todo.filter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))},deleteTodo:function(t){return e(function(e){return{type:"DELETE_TODO",id:e}}(t))},setNotifications:function(t){return e(N(t))}}})($);n(41);var ee=function(e){var t=e.removeNotification,n=e.notifications;return n.length||clearTimeout(z),o.a.createElement("div",{className:"notifications"},n.map(function(e){return z=setTimeout(function(){t(e.id)},4e3),o.a.createElement("p",{key:e.id,className:"show-msg"},e.text)}))},te=Object(c.b)(function(e){return{removeNotification:e.todo.removeNotification,notifications:e.todo.notifications}},function(e){return{removeNotification:function(t){return e(function(e){return{type:"REMOVE_NOTIFICATION",id:e}}(t))}}})(ee),ne=(n(43),function(e){function t(){return Object(A.a)(this,t),Object(y.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.syncStoreWithIDB,n=e.setNotifications;this.dbPromise=H(),this.dbPromise.then(function(e){return e.transaction("todoStore","readonly").objectStore("todoStore").getAll()}).then(function(e){var n=e.length?e[e.length-1].id+1:0;return t(n,e),e.length}).then(function(e){n(e?"Tasks loaded from IndexedDB":"No Tasks availabe in DB")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"todo-container"},o.a.createElement(te,null),o.a.createElement("h1",{className:"todo-title"},"To-Do"),o.a.createElement(Q,null),o.a.createElement(K,null),o.a.createElement(Z,null))}}]),t}(o.a.Component)),ae=Object(c.b)(function(e){return{notifications:e.todo.notifications}},function(e){return{syncStoreWithIDB:function(t,n){return e(function(e,t){return{type:"SYNC_TODO_DB",id:e,todos:t}}(t,n))},setNotifications:function(t,n){return e(N(t))}}})(ne);n(45);var oe=function(){return o.a.createElement("div",{className:"container"},o.a.createElement(h,null),o.a.createElement(S,null),o.a.createElement(W,null),o.a.createElement(ae,null))},re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ce=Object(u.c)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(o.a.createElement(c.a,{store:ce},o.a.createElement(oe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pomodoro-timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/pomodoro-timer","/service-worker.js");re?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ie(t,e)})}}()}},[[19,2,1]]]);
//# sourceMappingURL=main.40b2e7ea.chunk.js.map