(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/alaram.4b9995ee.mp3"},19:function(e,t,n){e.exports=n(46)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=n(2),c=n(4),u=n(1),l={sessionLength:25,breakLength:5,secondsElapsed:0,isTimerRunning:!1,isTimerPaused:!1,isBreakTime:!1,isAlarmON:!0,isAutoStartON:!0};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TIMER":return Object(u.a)({},e,{isTimerRunning:!0,isTimerPaused:!1});case"STOP_TIMER":return Object(u.a)({},e,{isTimerRunning:!1,isTimerPaused:!0});case"RESET_TIMER":return Object(u.a)({},e,{isTimerRunning:!1,isTimerPaused:!1,isBreakTime:!1,secondsElapsed:60*e.sessionLength});case"RUN_TIMER":return Object(u.a)({},e,{secondsElapsed:e.secondsElapsed-1});case"START_BREAK":return Object(u.a)({},e,{secondsElapsed:60*e.breakLength,isBreakTime:!0});case"AUTO_START_TIMER":return Object(u.a)({},e,{isTimerRunning:!0,isBreakTime:!1,isTimerPaused:!1,secondsElapsed:60*e.sessionLength});case"UPDATE_SESSION_LENGTH":return Object(u.a)({},e,{sessionLength:t.value});case"UPDATE_BREAK_LENGTH":return Object(u.a)({},e,{breakLength:t.value});case"TOGGLE_ALARM_SOUND":return Object(u.a)({},e,{isAlarmON:!e.isAlarmON});case"TOGGLE_AUTO_START":return Object(u.a)({},e,{isAutoStartON:!e.isAutoStartON});default:return Object(u.a)({},e,{secondsElapsed:60*e.sessionLength})}},d={quoteText:"To hell with circumstances; I create opportunities",quoteAuthor:"Bruce Lee"};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_QUOTE":return Object(u.a)({},e,{quoteText:t.quote.text,quoteAuthor:t.quote.author});default:return Object(u.a)({},e)}},T={text:"",filter:"SHOW_ALL",tasks:[],nextTodoId:0};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SYNC_TODO_DB":return Object(u.a)({},e,{tasks:t.todos,nextTodoId:t.id});case"ADD_TODO":return Object(u.a)({},e,{text:"",tasks:e.tasks.concat({id:e.nextTodoId,text:t.todo,completed:!1}),nextTodoId:e.nextTodoId+1});case"UPDATE_INPUT":return Object(u.a)({},e,{text:t.text});case"TOGGLE_TODO":return Object(u.a)({},e,{tasks:e.tasks.map(function(n,r){return r===t.id?Object(u.a)({},n,{completed:!e.tasks[t.id].completed}):Object(u.a)({},n)})});case"SET_TODO_FILTER":return Object(u.a)({},e,{filter:t.filter});default:return Object(u.a)({},e)}},E=Object(c.b)({timer:m,quote:f,todo:p});n(29),n(31);var h=function(){return a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,"Pomodoro Timer"))},g=(n(33),Math.round(1e4*Math.random())),b="cb_".concat(g),O="https://api.forismatic.com/api/1.0/?method=getQuote&key=457653&format=jsonp&lang=en&jsonp=";function v(e,t){var n=document.createElement("script");n.id="script_".concat(b),n.src=e+t,document.body.appendChild(n),document.getElementById(n.id).remove()}v(O,b);var S=function(e){var t=e.isBreakTime,n=e.quoteText,r=e.quoteAuthor,o=e.secondsElapsed,i=e.updateQuote;return window[b]=function(e){i({text:e.quoteText,author:e.quoteAuthor})},0===o&&t&&v(O,b),a.a.createElement("div",{className:"quote",style:t?{color:"#3066be"}:{}},t?a.a.createElement("h2",null,"It's ok to take a break"):a.a.createElement("div",null,a.a.createElement("p",null,n),a.a.createElement("span",{className:"quote-author"},r)))},k=Object(s.b)(function(e){return{quoteText:e.quote.quoteText,quoteAuthor:e.quote.quoteAuthor,isBreakTime:e.timer.isBreakTime,secondsElapsed:e.timer.secondsElapsed}},function(e){return{updateQuote:function(t){return e(function(e){return{type:"UPDATE_QUOTE",quote:e}}(t))}}})(S),A=n(5),_=n(6),N=n(8),R=n(7),y=n(9);var L=function(e){var t=e.time,n=Math.floor(t/60),r=Math.floor(t%60);return a.a.createElement("p",null,"".concat(n<10?"0".concat(n):n," : ").concat(r<10?"0".concat(r):r))};var j=function(e){var t,n=e.sessionLength,r=e.secondsElapsed,o=e.isTimerRunning,i=e.isTimerPaused,s=e.isBreakTime;return o||i?(o&&!i||!o&&i)&&(t=r):t=60*n,a.a.createElement("div",{className:"clock".concat(" ",s?"break":"session")},a.a.createElement(L,{time:t}))};n(35);var w=function(e){return a.a.createElement("input",Object.assign({type:"button"},e))};var D=function(e){var t=e.isTimerRunning,n=e.onStart,r=e.onStop,o=e.onReset;return a.a.createElement("div",{className:"btn-controls"},t?a.a.createElement(w,{name:"stop",value:"Pause",className:"btn btn-stop",onClick:r}):a.a.createElement(w,{name:"start",value:"Start",className:"btn btn-start",onClick:n}),a.a.createElement(w,{name:"reset",value:"Reset",className:"btn btn-reset",onClick:o}))};n(37);var I=function(e){var t=e.sessionLength,n=e.breakLength,r=e.isAlarmON,o=e.isAutoStartON,i=e.updateSessionLength,s=e.updateBreakLength,c=e.toggleAlarmSound,u=e.toggleAutoStart;return a.a.createElement("div",{className:"settings"},a.a.createElement("h2",null,"settings"),a.a.createElement("div",{className:"timer-settings"},a.a.createElement("label",{htmlFor:"session"},a.a.createElement("input",{type:"number",id:"session",min:"1",max:"60",value:t,name:"sessionLength",onChange:function(e){return i(parseInt(e.target.value,10))}}),"Session Length"),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"break"},a.a.createElement("input",{type:"number",id:"break",min:"1",max:"20",value:n,name:"breakLength",onChange:function(e){return s(parseInt(e.target.value,10))}}),"Break Length")),a.a.createElement("div",{className:"other-settings"},a.a.createElement("label",{htmlFor:"sounds",className:"sound-setting"},a.a.createElement("input",{type:"checkbox",id:"sounds",name:"timer-sounds",checked:r,onChange:c}),a.a.createElement("span",null),"Alarm Sound"),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"auto-start",className:"auto-start"},a.a.createElement("input",{type:"checkbox",id:"auto-start",name:"timer-sounds",checked:o,onChange:u}),a.a.createElement("span",null),"Auto start session")))},x=Object(s.b)(function(e){return{sessionLength:e.timer.sessionLength,breakLength:e.timer.breakLength,isAlarmON:e.timer.isAlarmON,isAutoStartON:e.timer.isAutoStartON}},function(e){return{updateSessionLength:function(t){var n=Number.isNaN(t)?0:t;e(function(e){return{type:"UPDATE_SESSION_LENGTH",value:e}}(n))},updateBreakLength:function(t){var n=Number.isNaN(t)?0:t;e(function(e){return{type:"UPDATE_BREAK_LENGTH",value:e}}(n))},toggleAlarmSound:function(){return e({type:"TOGGLE_ALARM_SOUND"})},toggleAutoStart:function(){return e({type:"TOGGLE_AUTO_START"})}}})(I),B=(n(39),n(17)),P=n.n(B),C=function(e){function t(e){var n;return Object(A.a)(this,t),(n=Object(N.a)(this,Object(R.a)(t).call(this,e))).alaramRef=a.a.createRef(),n}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.isTimerRunning&&!e.isTimerRunning&&(this.timerID=setInterval(function(){t.runTimer()},1e3)),!t.isTimerRunning&&e.isTimerRunning&&clearInterval(this.timerID),0!==t.secondsElapsed||t.isBreakTime||t.startBreak(),0===t.secondsElapsed&&t.isBreakTime&&(this.alaramRef.current.play(),t.isAutoStartON?t.autoStartTimer():(clearInterval(this.timerID),t.resetTimer())),t.isTimerRunning||t.isTimerPaused||t.resetTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.props,t=e.sessionLength,n=e.secondsElapsed,r=e.isTimerRunning,o=e.isTimerPaused,i=e.isBreakTime,s=this.props,c=s.startTimer,u=s.stopTimer,l=s.resetTimer;return a.a.createElement("div",{className:"timer-container"},a.a.createElement("div",{className:"timer"},a.a.createElement(j,{sessionLength:t,secondsElapsed:n,isTimerRunning:r,isTimerPaused:o,isBreakTime:i}),a.a.createElement(D,{isTimerRunning:r,onStart:c,onStop:u,onReset:l})),a.a.createElement(x,null),a.a.createElement("audio",{src:P.a,ref:this.alaramRef}))}}]),t}(a.a.Component),U=Object(s.b)(function(e){return{sessionLength:e.timer.sessionLength,secondsElapsed:e.timer.secondsElapsed,isTimerRunning:e.timer.isTimerRunning,isTimerPaused:e.timer.isTimerPaused,isBreakTime:e.timer.isBreakTime,isAutoStartON:e.timer.isAutoStartON}},function(e){return{startTimer:function(){return e({type:"START_TIMER"})},stopTimer:function(){return e({type:"STOP_TIMER"})},resetTimer:function(){return e({type:"RESET_TIMER"})},runTimer:function(){return e({type:"RUN_TIMER"})},startBreak:function(){return e({type:"START_BREAK"})},autoStartTimer:function(){return e({type:"AUTO_START_TIMER"})}}})(C),q=n(18),M=n.n(q);var W=function(){return"indexedDB"in window&&M.a.open("todoDB",1,function(e){e.objectStoreNames.contains("todoStore")||e.createObjectStore("todoStore",{keyPath:"id"}).createIndex("id","id",{unique:!0})})},G=W();var H=Object(s.b)(function(e){return{id:e.todo.nextTodoId,text:e.todo.text}},function(e){return{inputChange:function(t){return e(function(e){return{type:"UPDATE_INPUT",text:e}}(t))},submitForm:function(t){return e(function(e){return{type:"ADD_TODO",todo:e}}(t))}}})(function(e){var t=e.id,n=e.text,r=e.inputChange,o=e.submitForm;return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.trim()&&(o(n),G.then(function(e){var r=e.transaction("todoStore","readwrite");return r.objectStore("todoStore").add({id:t,text:n,completed:!1}),r.complete}))},className:"todo-form"},a.a.createElement("input",{type:"text",value:n,name:"todo",id:"add-todo",placeholder:"New task ...",className:"todo-input","aria-label":"add new task",onChange:function(e){return r(e.target.value)}}),a.a.createElement("input",{type:"submit",name:"add-todo",value:"Add",className:"btn-add-todo"}))});var F=function(e){var t=e.filter,n=e.setFilter,r={background:"#005555",color:"#ffffff"};return a.a.createElement("p",{className:"todo-filter"},a.a.createElement("input",{type:"button",value:"All",onClick:function(){return n("SHOW_ALL")},style:"SHOW_ALL"===t?r:null}),a.a.createElement("input",{type:"button",value:"Active",onClick:function(){return n("SHOW_ACTIVE")},style:"SHOW_ACTIVE"===t?r:null}),a.a.createElement("input",{type:"button",value:"Completed",onClick:function(){return n("SHOW_COMPLETED")},style:"SHOW_COMPLETED"===t?r:null}))},Q=Object(s.b)(function(e){return{filter:e.todo.filter}},function(e){return{setFilter:function(t){return e(function(e){return{type:"SET_TODO_FILTER",filter:e}}(t))}}})(F),V=W();var K=function(e){var t=e.id,n=e.text,r=e.completed,o=e.toggleTodo;return a.a.createElement("li",{style:r?{textDecoration:"line-through",textDecorationColor:"#005555"}:null},a.a.createElement("label",{htmlFor:t},a.a.createElement("input",{type:"checkbox",id:t,checked:r,onChange:function(){return function(e,t,n,r){r(e),V.then(function(r){var a=r.transaction("todoStore","readwrite");return a.objectStore("todoStore").put({id:e,text:t,completed:!n}),a.complete})}(t,n,r,o)}}),a.a.createElement("span",null)),n)};var X=function(e){var t=e.tasks,n=e.toggleTodo;return a.a.createElement("ul",{className:"todo-items"},t.length?t.map(function(e){return a.a.createElement(K,{key:e.id,id:e.id,completed:e.completed,text:e.text,toggleTodo:n})}):a.a.createElement("li",{className:"no-tasks"},"No tasks found"))};var J=Object(s.b)(function(e){return{tasks:function(e,t){switch(t){case"SHOW_ALL":return e;case"SHOW_ACTIVE":return e.filter(function(e){return!e.completed});case"SHOW_COMPLETED":return e.filter(function(e){return e.completed});default:return e}}(e.todo.tasks,e.todo.filter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))}}})(X),Y=(n(41),function(e){function t(){return Object(A.a)(this,t),Object(N.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.syncStoreWithIDB;this.dbPromise=W(),this.dbPromise.then(function(e){return e.transaction("todoStore","readonly").objectStore("todoStore").getAll()}).then(function(t){var n=t.length?t.length:0;e(n,t)})}},{key:"render",value:function(){return a.a.createElement("div",{className:"todo-container"},a.a.createElement("h1",{className:"todo-title"},"To-Do"),a.a.createElement(H,null),a.a.createElement(Q,null),a.a.createElement(J,null))}}]),t}(a.a.Component)),$=Object(s.b)(null,function(e){return{syncStoreWithIDB:function(t,n){return e(function(e,t){return{type:"SYNC_TODO_DB",id:e,todos:t}}(t,n))}}})(Y);n(43);var z=function(){return a.a.createElement("div",{className:"container"},a.a.createElement(h,null),a.a.createElement(k,null),a.a.createElement(U,null),a.a.createElement($,null))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var te=Object(c.c)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(a.a.createElement(s.a,{store:te},a.a.createElement(z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pomodoro-timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/pomodoro-timer","/service-worker.js");Z?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ee(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ee(t,e)})}}()}},[[19,2,1]]]);
//# sourceMappingURL=main.af68faef.chunk.js.map